<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claims AI - Insurance Claims Management System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/claims.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">Claims AI</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#claims-tab" data-bs-toggle="tab">Submit Claims</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#eligibility-tab" data-bs-toggle="tab">Check Eligibility</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#recommendations-tab" data-bs-toggle="tab">Review Dashboard</a>
                    </li>
                </ul>
                <span class="navbar-text">
                    AI-Powered Claims Processing
                </span>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- Status Alert Area -->
        <div id="alertArea"></div>

        <!-- Tab Content -->
        <div class="tab-content">
            <!-- Iteration 1: Claims Submission and Validation -->
            <div class="tab-pane fade show active" id="claims-tab">
                <div class="row">
                    <div class="col-lg-8">
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-file-medical"></i> Submit Insurance Claim</h3>
                                <p class="text-muted">Iteration 1: AI will detect inconsistencies and missing information</p>
                            </div>
                            <div class="card-body">
                                <form id="claimForm">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h5>Patient Information</h5>
                                            <div class="mb-3">
                                                <label for="patient_id" class="form-label">Patient ID *</label>
                                                <input type="text" class="form-control" id="patient_id" name="patient_id" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="patient_name" class="form-label">Patient Name *</label>
                                                <input type="text" class="form-control" id="patient_name" name="patient_name" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="date_of_birth" class="form-label">Date of Birth *</label>
                                                <input type="date" class="form-control" id="date_of_birth" name="date_of_birth" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="policy_number" class="form-label">Policy Number *</label>
                                                <input type="text" class="form-control" id="policy_number" name="policy_number" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <h5>Service Information</h5>
                                            <div class="mb-3">
                                                <label for="provider_name" class="form-label">Provider Name *</label>
                                                <input type="text" class="form-control" id="provider_name" name="provider_name" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="provider_id" class="form-label">Provider ID *</label>
                                                <input type="text" class="form-control" id="provider_id" name="provider_id" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="service_date" class="form-label">Service Date *</label>
                                                <input type="date" class="form-control" id="service_date" name="service_date" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="service_type" class="form-label">Service Type</label>
                                                <select class="form-control" id="service_type" name="service_type">
                                                    <option value="emergency">Emergency</option>
                                                    <option value="surgery">Surgery</option>
                                                    <option value="diagnostics">Diagnostics</option>
                                                    <option value="pharmacy">Pharmacy</option>
                                                    <option value="general">General</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="diagnosis_code" class="form-label">Diagnosis Code *</label>
                                                <input type="text" class="form-control" id="diagnosis_code" name="diagnosis_code" placeholder="e.g., A12.3" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="procedure_code" class="form-label">Procedure Code *</label>
                                                <input type="text" class="form-control" id="procedure_code" name="procedure_code" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="amount_billed" class="form-label">Amount Billed *</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input type="number" class="form-control" id="amount_billed" name="amount_billed" step="0.01" min="0" required>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <button type="button" class="btn btn-primary" onclick="validateClaim()">
                                            <i class="fas fa-check"></i> Validate Claim
                                        </button>
                                        <button type="button" class="btn btn-success" onclick="submitClaim()">
                                            <i class="fas fa-paper-plane"></i> Submit Claim
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div id="validationResults" class="card" style="display: none;">
                            <div class="card-header">
                                <h5>Validation Results</h5>
                            </div>
                            <div class="card-body" id="validationContent">
                                <!-- Validation results will be displayed here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Iteration 2: Eligibility Checking -->
            <div class="tab-pane fade" id="eligibility-tab">
                <div class="row">
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-shield-alt"></i> Check Eligibility</h3>
                                <p class="text-muted">Iteration 2: Verify coverage and policy compliance</p>
                            </div>
                            <div class="card-body">
                                <form id="eligibilityForm">
                                    <div class="mb-3">
                                        <label for="elig_policy_number" class="form-label">Policy Number *</label>
                                        <input type="text" class="form-control" id="elig_policy_number" name="policy_number" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="elig_service_type" class="form-label">Service Type *</label>
                                        <select class="form-control" id="elig_service_type" name="service_type" required>
                                            <option value="">Select Service Type</option>
                                            <option value="emergency">Emergency</option>
                                            <option value="surgery">Surgery</option>
                                            <option value="diagnostics">Diagnostics</option>
                                            <option value="pharmacy">Pharmacy</option>
                                            <option value="general">General</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="elig_service_date" class="form-label">Service Date *</label>
                                        <input type="date" class="form-control" id="elig_service_date" name="service_date" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="elig_amount_billed" class="form-label">Amount Billed *</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input type="number" class="form-control" id="elig_amount_billed" name="amount_billed" step="0.01" min="0" required>
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-primary" onclick="checkEligibility()">
                                        <i class="fas fa-search"></i> Check Eligibility
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div id="eligibilityResults" class="card" style="display: none;">
                            <div class="card-header">
                                <h5>Eligibility Results</h5>
                            </div>
                            <div class="card-body" id="eligibilityContent">
                                <!-- Eligibility results will be displayed here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Iteration 3: Recommendations Dashboard -->
            <div class="tab-pane fade" id="recommendations-tab">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-brain"></i> AI Recommendations Dashboard</h3>
                        <p class="text-muted">Iteration 3: Review AI recommendations for human validation</p>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-8">
                                <div class="mb-3">
                                    <button type="button" class="btn btn-info" onclick="generateRecommendation()">
                                        <i class="fas fa-robot"></i> Generate AI Recommendation
                                    </button>
                                </div>
                                <div id="recommendationResults" style="display: none;">
                                    <div class="card">
                                        <div class="card-header">
                                            <h5>AI Recommendation</h5>
                                        </div>
                                        <div class="card-body" id="recommendationContent">
                                            <!-- Recommendation will be displayed here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div id="reviewerActions" class="card" style="display: none;">
                                    <div class="card-header">
                                        <h5>Reviewer Actions</h5>
                                    </div>
                                    <div class="card-body">
                                        <form id="reviewForm">
                                            <div class="mb-3">
                                                <label for="reviewer_decision" class="form-label">Your Decision</label>
                                                <select class="form-control" id="reviewer_decision" name="reviewer_decision">
                                                    <option value="APPROVE">Approve</option>
                                                    <option value="REJECT">Reject</option>
                                                    <option value="RETURN_FOR_CORRECTION">Return for Correction</option>
                                                    <option value="MANUAL_REVIEW">Requires More Review</option>
                                                </select>
                                            </div>
                                            <div class="mb-3">
                                                <label for="reviewer_notes" class="form-label">Notes</label>
                                                <textarea class="form-control" id="reviewer_notes" name="reviewer_notes" rows="3"></textarea>
                                            </div>
                                            <div class="mb-3">
                                                <label for="reviewer_id" class="form-label">Reviewer ID</label>
                                                <input type="text" class="form-control" id="reviewer_id" name="reviewer_id" placeholder="Enter your ID">
                                            </div>
                                            <button type="button" class="btn btn-success" onclick="submitReview()">
                                                <i class="fas fa-check"></i> Submit Review
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-light text-center text-lg-start mt-5">
        <div class="text-center p-3">
            Â© 2025 Claims AI System - Iterative Insurance Claims Processing
        </div>
    </footer>
</body>
</html>